
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Countdown to Jan 20, 2029 Noon EST</title>
  <style>
    body {
      font-family: monospace;
      font-size: 2em;
      text-align: center;
      margin-top: 10vh;
    }
    #countdown {
      min-width: 30em;
      display: inline-block;
    }
    #progress-container {
      width: 80%;
      margin: 40px auto 10px auto;
      height: 30px;
      background: #eee;
      border: 1px solid #ccc;
      border-radius: 5px;
      overflow: hidden;
    }
    #progress-bar {
      height: 100%;
      background: #4caf50;
      width: 0%;
      transition: width 0.5s;
    }
    #percent-display {
      margin-top: 10px;
      font-size: 1em;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <div id="countdown">Loading...</div>

  <div id="progress-container">
    <div id="progress-bar"></div>
  </div>
  <div id="percent-display"></div>

  <script>
    function pluralizeFixed(value, unit) {
      const padded = value.toString().padStart(2, " ");
      const word = unit + (value === 1 ? " " : "s");
      return padded + " " + word;
    }

    function updateCountdown() {
      const now = new Date();
      const nowUTC = new Date(now.getTime() + now.getTimezoneOffset() * 60000);
      
      const startEST = new Date("2025-01-20T17:00:00Z");
      const endEST = new Date("2029-01-20T17:00:00Z");

      const totalMs = endEST - startEST;
      const elapsedMs = nowUTC - startEST;
      const percentElapsed = Math.min(100, Math.max(0, (elapsedMs / totalMs) * 100));

      const target = endEST;
      let remaining = target - nowUTC;
      if (remaining < 0) remaining = 0;

      const targetDate = new Date(target);
      const nowDate = new Date(nowUTC);

      let years = targetDate.getUTCFullYear() - nowDate.getUTCFullYear();
      let months = targetDate.getUTCMonth() - nowDate.getUTCMonth();
      let days = targetDate.getUTCDate() - nowDate.getUTCDate();
      let hrs = targetDate.getUTCHours() - nowDate.getUTCHours();
      let mins = targetDate.getUTCMinutes() - nowDate.getUTCMinutes();
      let secs = targetDate.getUTCSeconds() - nowDate.getUTCSeconds();

      if (secs < 0) { secs += 60; mins--; }
      if (mins < 0) { mins += 60; hrs--; }
      if (hrs < 0) { hrs += 24; days--; }
      if (days < 0) {
        const prevMonth = new Date(nowDate.getUTCFullYear(), nowDate.getUTCMonth(), 0);
        days += prevMonth.getUTCDate();
        months--;
      }
      if (months < 0) { months += 12; years--; }

      const countdownText = (remaining === 0)
        ? " 0 years,  00 months,  00 days,  00 hours,  00 minutes,  00 seconds"
        : pluralizeFixed(years, "year") + ",  " +
          pluralizeFixed(months, "month") + ",  " +
          pluralizeFixed(days, "day") + ",  " +
          pluralizeFixed(hrs, "hour") + ",  " +
          pluralizeFixed(mins, "minute") + ",  " +
          pluralizeFixed(secs, "second");

      document.getElementById("countdown").textContent = countdownText;
      document.getElementById("progress-bar").style.width = percentElapsed.toFixed(2) + "%";
      document.getElementById("percent-display").textContent = percentElapsed.toFixed(2) + "%";
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
  </script>
</body>
</html>
